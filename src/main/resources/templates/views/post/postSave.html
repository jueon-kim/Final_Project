<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>ê¸€ì“°ê¸°</title>
    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© ì•„ì´ì½˜ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />


    <!-- ë‹¤ìŒ ì§€ë„-->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=bf290bec6b7de30eb3c7f533f6f6720a&libraries=services"></script>
    <!-- ë‹¤ìŒ ì£¼ì†Œê²€ìƒ‰ -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

    <style>
        section{
            max-width: 1400px;
        }
    </style>
</head>
<body>
<div th:include="/views/header"></div>
<section class="container mt-3">

    <form action="/post/save" method="post" onsubmit="regdate()">

        <div style="width: 768px; margin: auto">
            <br>
            <!-- ì‚¬ì§„ ë“¤ì–´ê°ˆê³³ -->
            <div style="margin: auto; justify-content: center; display: flex">
                <div class="imge">
                    <label> ì´ë¯¸ì§€ì„ íƒ
                        <input type="file" style="display: none;" class="image" multiple onchange="previewImages(this)">
                    </label>
                </div>
            </div><br>    <!-- ì‚¬ì§„ ë“¤ì–´ê°ˆê³³ -->
            <div id="imagePreview"></div>
            <!--        <div style="justify-content: center; display: flex; margin: 10px;">-->
            <!--            <select name="category_num">-->
            <!--                <option>ì¹´í…Œê³ ë¦¬</option>-->
            <!--                <option value="1">ì—¬ì„±ì˜ë¥˜</option>-->
            <!--                <option value="2">ë‚¨ì„±ì˜ë¥˜</option>-->
            <!--                <option value="3">ì‹ ë°œ</option>-->
            <!--            </select>-->
            <!--        </div>-->

            <div class="categoryList" name="category_num" style="display: flex;
        overflow: auto; width: 300px; height: 200px; border: 5px #f8f9fa solid; scrollbar-width: thin;">

                <ul style="list-style: none;">
                    <li value="1">
                        <input type="checkbox" class="checkbox" name="category_num" value="1" hidden>
                        <label> <p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>

                    <li value="2">
                        <input type="checkbox" class="checkbox" name="womenClothing" hidden>
                        <label><p style="font-size: 18px;">ì—¬ì„±ì˜ë¥˜ 1</p></label>
                    </li>
                </ul>
            </div>

            <br>
            <div style="justify-content: center; display: flex">

                <input name="post_title" id="postTitle" required minlength="4" maxlength="50" size="10"
                       placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" style="width: 768px;  height: 30px;">
            </div>
            <br>

            <div style="display: flex; justify-content: center">
                <!-- ê¸€ë‚´ìš© -->
                <div class="postDetailcomponet">
                    <div class="postTitlebox">
                        <label for="post_content" style="margin: auto">
                    <textarea name="post_content" id="post_content" type="text" placeholder="ìƒí’ˆëª…(ë¸Œëœë“œ) &#10;
                    êµ¬ë§¤ ì‹œê¸° &#10; ì‚¬ìš©ì—¬ë¶€ &#10;
                    ì‹¤ì œ ì´¬ì˜í•œ ì‚¬ì§„ê³¼ í•¨ê»˜ ìƒì„¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” &#10;
                    ì•ˆì „í•˜ê³  ê±´ì „í•œ ê±°ë˜í™˜ê²½ì„ ìœ„í•´ ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€, í•œêµ­ì¸í„°ë„·ì§„í¥ì› í™”ê°œì¥í„°ê°€ í•¨ê»˜í•©ë‹ˆë‹¤"
                              style="width: 768px; height: 200px; white-space: normal; overflow-wrap: break-word; resize: none;"></textarea>
                        </label>
                    </div>
                </div>
            </div>

            <br>

            <!--ê°€ê²© -->
            <div class="postPricecomponet" style="display: flex; position: relative">
                <div class="pricebox" style="margin: auto;">
                    <label for="post_price">
                        <input id="post_price" name="post_price" type="text" placeholder="ğŸ’²íŒë§¤ê°€ê²©(ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš”)"
                               onKeyup="this.value=this.value.replace(/[^0-9]/g,'')" style="width: 768px; height: 50px;"></label>
                </div>
            </div>
            <br>

            <div style="display: flex; width: 300px; height: 100px;" name="post_productState;">

                <div style="display: flex; width: 100px; height: 100px; align-items: center;">
                    <input type="checkbox" style="width: 25px; height: 20px;" value="ìƒˆìƒí’ˆ">
                    <p style="font-size: 17px; margin-left: 10px;">ìƒˆìƒí’ˆ</p>
                </div>

                <div style="display: flex; width: 100px; height: 100px; align-items: center; margin-left: 40px;">
                    <input type="checkbox" style="width: 25px; height: 20px;" value="ì¤‘ê³ ">
                    <p style="font-size: 17px; margin-left: 10px; ">ì¤‘ê³ </p>
                </div>
            </div>


            <!--        <div style="justify-content: center; display: flex; margin: 10px;">-->
            <!--            <select name="post_productState">-->
            <!--                <option>ìƒí’ˆìƒíƒœ</option>-->
            <!--                <option value="ìƒˆìƒí’ˆ">ìƒˆìƒí’ˆ</option>-->
            <!--                <option value="ì¤‘ê³ ">ì¤‘ê³ </option>-->
            <!--            </select>-->
            <!--        </div>-->





            <div style="display: flex;">
                <div class="buttonbox" style="display: flex;">
                    <div style="position: relative;">
                        <!-- ì²« ë²ˆì§¸ ë©”ë‰´ -->
                        <p class="toggleMenu" style="background-color: transparent; ">íƒë°°ê±°ë˜</p>

                        <div class="menu" style="width: 768px; height: 200px; border: 1px solid #ccc; display: none;
                 position: absolute; background-color: #fff; z-index: 100; top: 50px; left: 0;">
                            <!-- ë©”ë‰´ ë‚´ìš© ì¶”ê°€ -->
                            <ul style="list-style: none; width: 200px; margin: 0; padding: 0;">
                                <li>
                                    ì§€ë„

                                </li>
                                <li>ë“¤ì–´ê°ˆ</li>
                                <li>ê³³</li>
                                <li style="display: flex; width: 700px;">
                                    <input type="checkbox" style="width: 25px; height: 50px;" value="ë°°ì†¡ë¹„ë³„ë„">
                                    <p style="font-size: 17px;">ë°°ì†¡ë¹„ ë³„ë„</p>

                                    <input type="checkbox" style="width: 25px; height: 50px;" value="ë°°ì†¡ë¹„í¬í•¨">
                                    <p style="font-size: 17px;">ë°°ì†¡ë¹„ í¬í•¨</p>

                                </li>
                            </ul>
                        </div>
                    </div>

                    <div style="position: relative; margin-left: 20px;">
                        <!-- ë‘ ë²ˆì§¸ ë©”ë‰´ -->
                        <p class="toggleMenu" style="text-align: center; background-color: transparent; margin-bottom: 0;">ì§ê±°ë˜</p>

                        <div class="menu" style="width: 768px; height: 200px; border: 1px solid #ccc; display: none;

                 position: absolute; background-color: #fff; z-index: 100; top: 50px; left: -80px;">
                            <!-- ë©”ë‰´ ë‚´ìš© ì¶”ê°€ -->
                            <ul style="list-style: none; width: 200px; margin: 0; padding: 0;">
                                <li>ì—¬ê¸°ëŠ”</li>
                                <li>ì£¼ì†Œ</li>
                                <li>ë“¤ì–´ê°ˆê³³</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>



            <!--    <div style="display: flex; margin: auto; justify-content: center;">-->
            <!--        <div class="postDealcomponet">-->
            <!--            <label for="post_Address">-->
            <!--                <input id="post_Address" name="post_Address" type="text" placeholder="í¬ë§ê±°ë˜ì¥ì†Œ">-->
            <!--            </label>-->
            <!--        </div>-->

            <!--        <div class="postDealcomponet" style="margin-left: 10px;">-->
            <!--            <label for="post_shipAddress">-->
            <!--                <input id="post_shipAddress" name="post_shipAddress" type="text" placeholder="íƒë°°ë°°ì†¡ì§€ì£¼ì†Œ">-->
            <!--            </label>-->
            <!--        </div>-->
            <!--    </div>-->

            <br>

            <input type="hidden" name="post_regdate" id="post_regdate">
            <input type="text" class="hidden-field" th:value="${session.user.user_num}" name="user_num" id="user_num">



            <div style="display: flex; justify-content: center">

                <div style="justify-content: center">
                    <button type="submit" value="ë“±ë¡" style="width: 100px; margin-left: 10px; background-color: transparent;">ë“±ë¡í•˜ê¸°</button>
                </div>

                <div style="margin-left: 10px; justify-content: center;">
                    <button value="ì·¨ì†Œ" style="width: 100px; margin-left: 10px; background-color: transparent;">ì·¨ì†Œ</button>
                </div>
            </div>



            <footer>
                <div th:include="/views/footer.html"></div>
            </footer>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // ëª¨ë“  li ìš”ì†Œì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€
                var liElements = document.querySelectorAll('ul li');

                liElements.forEach(function(li) {
                    li.addEventListener('click', function() {
                        // í´ë¦­ëœ li ìš”ì†Œì˜ ì²« ë²ˆì§¸ ìì‹ì¸ checkbox ìš”ì†Œë¥¼ í† ê¸€
                        var checkbox = li.querySelector('.checkbox');
                        checkbox.checked = !checkbox.checked;

                        // ì„ íƒëœ ìƒíƒœì— ë”°ë¼ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€ ë˜ëŠ” ì œê±°í•˜ì—¬ ìŠ¤íƒ€ì¼ ì ìš©
                        if (checkbox.checked) {
                            li.classList.add('selected');
                        } else {
                            li.classList.remove('selected');
                        }
                    });
                });
            });

            function regdate() {
                var now = new Date();
                var year = now.getFullYear();
                var month = String(now.getMonth() + 1).padStart(2, '0');
                var day = String(now.getDate()).padStart(2, '0');
                var hours = String(now.getHours()).padStart(2, '0');
                var minutes = String(now.getMinutes()).padStart(2, '0');
                var seconds = String(now.getSeconds()).padStart(2, '0');
                // return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;

                document.getElementById("post_regdate").value = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
            }


            document.addEventListener("DOMContentLoaded", function () {
                let menus = document.querySelectorAll(".menu");
                let log = document.querySelector("#log");

                document.addEventListener("click", function (e) {
                    let isToggle = false;

                    // í´ë¦­ëœ ìš”ì†Œê°€ í† ê¸€ ë²„íŠ¼ì´ê±°ë‚˜ ë©”ë‰´ ë‚´ë¶€ì¸ ê²½ìš° í† ê¸€ ìƒíƒœ ìœ ì§€
                    for (let i = 0; i < menus.length; i++) {
                        if (e.target.classList.contains("toggleMenu") || menus[i].contains(e.target)) {
                            isToggle = true;
                            break;
                        }
                    }

                    // í´ë¦­ëœ ìš”ì†Œê°€ í† ê¸€ ë²„íŠ¼ ë˜ëŠ” ë©”ë‰´ ë‚´ë¶€ê°€ ì•„ë‹Œ ê²½ìš° ëª¨ë“  ë©”ë‰´ ìˆ¨ê¹€
                    if (!isToggle) {
                        for (let i = 0; i < menus.length; i++) {
                            menus[i].style.display = "none";
                        }
                        log.textContent = "Menu is hidden";
                    }
                });

                // ê° í† ê¸€ ë²„íŠ¼ì— ëŒ€í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                document.querySelectorAll(".toggleMenu").forEach(function (toggleBtn, index) {
                    toggleBtn.addEventListener("click", function (e) {
                        e.stopPropagation(); // ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€

                        // í´ë¦­ëœ í† ê¸€ ë²„íŠ¼ì— í•´ë‹¹í•˜ëŠ” ë©”ë‰´ë§Œ í† ê¸€
                        menus[index].style.display = menus[index].style.display === "block" ? "none" : "block";

                        // ë‚˜ë¨¸ì§€ ë©”ë‰´ëŠ” ìˆ¨ê¹€
                        for (let i = 0; i < menus.length; i++) {
                            if (i !== index) {
                                menus[i].style.display = "none";
                            }
                        }

                        log.textContent = `Menu ${index + 1} is ${menus[index].style.display === "block" ? "visible" : "hidden"}`;
                    });
                });
            });

        </script>

    </form>

</section>
    post_num <input type="text" name="post_num"> <br>
    post_title<input type="text" name="post_title"> <br>
    post_content<input type="text" name="post_content"> <br>
    post_price<input type="text" name="post_price"> <br>
    post_saleState<input type="text" name="post_saleState"> <br>
    post_regdate<input type="text" name="post_regdate"> <br>
    post_update<input type="text" name="post_update"> <br>
    post_location<input type="text" name="post_location"> <br>
    post_ship<input type="text" name="post_ship"> <br>
    post_shipAddress<input type="text" name="post_shipAddress"> <br>
    post_direct<input type="text" name="post_direct"> <br>
    post_Address<input type="text" name="post_Address"> <br>
    post_hits<input type="text" name="post_hits"> <br>
    post_like<input type="text" name="post_like"> <br>
    post_deliveryFee<input type="text" name="post_deliveryFee"> <br>
    post_productState<input type="text" name="post_productState"> <br>
    user_num<input type="text" name="user_num" th:value="${session.user.user_num}"> <br>
    category_num<input type="text" name="category_num"> <br>
    file_num<input type="text" name="file_num"> <br>
    ê¸€ì‘ì„±<input type="submit" value="ê¸€ì‘ì„±">

<!-- ì œì´ì¿¼ë¦¬ 3.6.3 --><!-- ì œì´ì¿¼ë¦¬ 3.6.3 -->
<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

<!-- íŒŒí¼ 1.12.9 -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© 5.3.2 ìë°”ìŠ¤í¬ë¦½íŠ¸ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>

</body>
</html>
