<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>ê¸€ëª©ë¡</title>

    <style>
        section {
            width: 1400px;
            margin: auto;
        }
    </style>
</head>
<body>
<div th:include="/views/header"></div>
<section th:each="edit : ${postEdit}">

    <form action="/post/save" method="post" onsubmit="updateDate()"  enctype="multipart/form-data"v>

        <div style="width: 768px; margin: auto">
            <br>

            <!-- ì‚¬ì§„ ë“¤ì–´ê°ˆê³³ -->
            <div class="mb-5">
                <input type="file" name="post_upLoadFile" id="post_upLoadFile" multiple>
            </div><br>

            <div>
                <input id="postTitle" name="post_title" th:value="${edit.post_title}" class="form-control" required minlength="4" maxlength="50" style="width: 768px;">
            </div><br>

            <div>
                <select class="form-select" name="category_num" aria-label="Default select example" th:value="${edit.category_num}">
                    <option value="1" th:selected="${edit.category_num == 1}">ì—¬ì„±ì˜ë¥˜</option>
                    <option value="2" th:selected="${edit.category_num == 2}">ë‚¨ì„±ì˜ë¥˜</option>
                    <option value="3" th:selected="${edit.category_num == 3}">ì‹ ë°œ</option>
                    <option value="4" th:selected="${edit.category_num == 4}">ê°€ë°©/ì§€ê°‘</option>
                    <option value="5" th:selected="${edit.category_num == 5}">ì‹œê³„</option>
                    <option value="6" th:selected="${edit.category_num == 6}">ì¥¬ì–¼ë¦¬</option>
                    <option value="7" th:selected="${edit.category_num == 7}">íŒ¨ì…˜ ì•¡ì„¸ì„œë¦¬</option>
                    <option value="8" th:selected="${edit.category_num == 8}">ë””ì§€í„¸</option>
                    <option value="9" th:selected="${edit.category_num == 9}">ê°€ì „ì œí’ˆ</option>
                    <option value="10" th:selected="${edit.category_num == 10}">ìŠ¤í¬ì¸ /ë ˆì €</option>
                    <option value="11" th:selected="${edit.category_num == 11}">ì°¨ëŸ‰/ì˜¤í† ë°”ì´</option>
                    <option value="12" th:selected="${edit.category_num == 12}">ìŠ¤íƒ€êµ¿ì¦ˆ</option>
                    <option value="13" th:selected="${edit.category_num == 13}">í‚¤ëœíŠ¸</option>
                    <option value="14" th:selected="${edit.category_num == 14}">ì˜ˆìˆ /í¬ê·€/ìˆ˜ì§‘í’ˆ</option>
                    <option value="15" th:selected="${edit.category_num == 15}">ìŒë°˜/ì•…ê¸°</option>
                    <option value="16" th:selected="${edit.category_num == 16}">ë„ì„œ/í‹°ì¼“/ë¬¸êµ¬</option>
                    <option value="17" th:selected="${edit.category_num == 17}">ë·°í‹°/ë¯¸ìš©</option>
                    <option value="18" th:selected="${edit.category_num == 18}">ê°€êµ¬/ì¸í…Œë¦¬ì–´</option>
                    <option value="19" th:selected="${edit.category_num == 19}">ìƒí™œ/ì£¼ë°©ìš©í’ˆ</option>
                    <option value="20" th:selected="${edit.category_num == 20}">ê³µêµ¬/ì‚°ì—…ìš©í’ˆ</option>
                    <option value="21" th:selected="${edit.category_num == 21}">ì‹í’ˆ</option>
                    <option value="22" th:selected="${edit.category_num == 22}">ìœ ì•„ë™/ì¶œì‚°</option>
                    <option value="23" th:selected="${edit.category_num == 23}">ë°˜ë ¤ë™ë¬¼ìš©í’ˆ</option>
                    <option value="24" th:selected="${edit.category_num == 24}">ê¸°íƒ€</option>
                </select>
            </div><br>


            <!-- ê¸€ë‚´ìš© -->
            <div>
                <textarea id="post_content" name="post_content" class="form-control"
                          placeholder="- ìƒí’ˆëª…(ë¸Œëœë“œ)&#10;- êµ¬ë§¤ ì‹œê¸°&#10;- ì‚¬ìš© ê¸°ê°„&#10;- í•˜ì ì—¬ë¶€&#10;* ì‹¤ì œ ì´¬ì˜í•œ ì‚¬ì§„ê³¼ í•¨ê»˜ ìƒì„¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.&#10;* ì¹´ì¹´ì˜¤í†¡ ì•„ì´ë”” ì²¨ë¶€ ì‹œ ê²Œì‹œë¬¼ ì‚­ì œ ë° ì´ìš©ì œì¬ ì²˜ë¦¬ë  ìˆ˜ ìˆì–´ìš”.&#10;ì•ˆì „í•˜ê³  ê±´ì „í•œ ê±°ë˜í™˜ê²½ì„ ìœ„í•´ ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€, í•œêµ­ì¸í„°ë„·ì§„í¥ì›, ì¤‘ê³ ë‚˜ë¼ê°€ í•¨ê»˜í•©ë‹ˆë‹¤."
                          style="width: 768px; height: 200px;" maxlength="1000" th:text="${edit.post_content}"></textarea>
            </div><br>

            <!--ê°€ê²© -->
            <div>
                <input id="post_price" name="post_price" class="form-control" placeholder="ğŸ’²íŒë§¤ê°€ê²©(ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš”)" th:value="${edit.post_price}"
                       onKeyup="this.value=this.value.replace(/[^0-9]/g,'')">
            </div><br>

            <div>
                <p>ìƒí’ˆìƒíƒœ</p>
                <input type="radio" class="btn-check" name="post_productState" id="used" autocomplete="off" value="ì¤‘ê³ " th:checked="${edit.post_productState == 'ì¤‘ê³ '}">
                <label class="btn btn-outline-success" for="used">ì¤‘ê³ </label>

                <input type="radio" class="btn-check" name="post_productState" id="new" autocomplete="off" value="ìƒˆìƒí’ˆ" th:checked="${edit.post_productState == 'ìƒˆìƒí’ˆ'}">
                <label class="btn btn-outline-success" for="new">ìƒˆìƒí’ˆ</label>
            </div><br>


            <div>
                <p>ê±°ë˜ë°©ë²•</p>
                <input type="radio" class="btn-check" name="post_way" id="direct" autocomplete="off" value="ì§ê±°ë˜" th:checked="${edit.post_way == 'ì§ê±°ë˜'}">
                <label class="btn btn-outline-success" for="direct">ì§ê±°ë˜</label>

                <input type="radio" class="btn-check" name="post_way" id="post" autocomplete="off" value="íƒë°°" th:checked="${edit.post_way == 'íƒë°°'}">
                <label class="btn btn-outline-success" for="post">íƒë°°</label>

                <input type="radio" class="btn-check" name="post_way" id="both" autocomplete="off" value="ì§ê±°ë˜, íƒë°°" th:checked="${edit.post_way == 'ì§ê±°ë˜, íƒë°°'}">
                <label class="btn btn-outline-success" for="both">ì§ê±°ë˜, íƒë°°</label>
            </div><br>



            <div style="width: 768px; height: 400px; border: 3px red solid;">
                <p style="font-size: 20px;">ê±°ë˜ì¥ì†Œ</p>

                <div id="map" style="width: 764px; height: 300px; border: 3px red solid;">

                </div>

                <div>
                    <input id="location" name="post_location" th:value="${session.user.user_location}">
                    <input id="location2" name="post_location2" th:value="${session.user.user_location2}">
                </div>


            </div><br>
                <input type="text" name="post_saleState" th:value="${edit.post_saleState}">
            <input type="hidden" name="post_num" th:value="${edit.post_num}">
            <input type="hidden" name="post_regdate" th:value="${edit.post_regdate}">
            <input type="hidden" name="post_update" id="post_update">
            <input type="text" class="hidden-field" th:value="${session.user.user_num}" name="user_num" id="user_num">


            <div style="display: flex; justify-content: center">

                <div style="justify-content: center">
                    <button type="submit" value="ë“±ë¡"
                            style="width: 100px; margin-left: 10px; background-color: transparent;">ë“±ë¡í•˜ê¸°
                    </button>
                </div>

                <div style="margin-left: 10px; justify-content: center;">
                    <button value="ì·¨ì†Œ" style="width: 100px; margin-left: 10px; background-color: transparent;">ì·¨ì†Œ
                    </button>
                </div>
            </div>


            <footer>
                <div th:include="/views/footer.html"></div>
            </footer>
        </div>

    </form>

</section>



<script>
    function updateDate() {
        var now = new Date();
        var year = now.getFullYear();
        var month = String(now.getMonth() + 1).padStart(2, '0');
        var day = String(now.getDate()).padStart(2, '0');
        var hours = String(now.getHours()).padStart(2, '0');
        var minutes = String(now.getMinutes()).padStart(2, '0');
        var seconds = String(now.getSeconds()).padStart(2, '0');
        // return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;

        document.getElementById("post_update").value = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
    }

</script>


<!-- ì œì´ì¿¼ë¦¬ 3.6.3 --><!-- ì œì´ì¿¼ë¦¬ 3.6.3 -->
<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

<!-- íŒŒí¼ 1.12.9 -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

<!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© 5.3.2 ìë°”ìŠ¤í¬ë¦½íŠ¸ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>

</body>
</html>