<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Header</title>
	<!-- 부트스트랩 -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<!-- 부트스트랩 아이콘 -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="/css/header/header.css">

	<style>
		a{
			text-decoration: none;
			color: black;
		}
    </style>
</head>
<body>



<div class="navbar" style="width: 100%; margin-bottom: 20px; border-bottom: 1px solid gainsboro;">

	<div class="container-fluid" style="width: 1400px; margin-top: 30px;">

		<a href="/index"><img src="/img/logo3.png" style="width: 150px; height: 70px;"></a>

		<div class="searchbox" style="border: 3px  solid; margin: auto;">
			<input class="search_input" style="width: 600px;">
			<!--			<container class="rel_search" style="width: 500px; border: 3px solid;">
                            <ul class="pop_rel_keywords"></ul><br>
                        </container>-->
		</div>

		<div style="display: flex">



<!--			<div style="margin-top: 20px;">
				<a class="btn" style="text-decoration: none; color: black; font-size: 18px" href="/chat/list">
					<i class="bi bi-chat-dots"></i>
					<span class="chat">채팅</span>
				</a>
			</div>-->


			<div style="margin-top: 20px;">
				<a class="btn" style="text-decoration: none; color: black; font-size: 18px" data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling" onclick="chatList();">
					<i class="bi bi-chat-dots"></i>
					<span class="chat">채팅</span>
				</a>
			</div>

			<div class="offcanvas offcanvas-end" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel" style="width: 560px;">
				<div class="offcanvas-header">
					<h5 class="offcanvas-title" id="offcanvasExampleLabel" style="margin: auto;">채팅</h5>
					<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
				</div>
				<div class="offcanvas-body" id="offcanvas-body" style="padding: 20px;">


				</div>
			</div>


			<div style="margin-top: 20px; ">
				<a class="btn" style="text-decoration: none; color: black; font-size: 18px" href="/post/save">
					<i class="bi bi-bag-check"></i>
					<span class="chat">판매</span>
				</a>&nbsp;&nbsp;
			</div>

			<!-- 세션에 값이 있을 때 -->
			<div th:if="${session.user != null}" style="margin-top: 15px;">
                <span style="cursor: pointer;">
                    <div class="dropdown">
                        <a class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img th:src="@{|/upload/${session.user.user_photo}|}" style="width: 50px; height: 50px; border-radius: 100%">&nbsp;&nbsp;<span th:text="${session.user.user_nick}"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/myPage/">마이페이지</a></li>
                            <li><hr><a class="dropdown-item" href="/user/logout/">로그아웃</a></li>
                        </ul>
                    </div>
                </span>
			</div>

			<div th:unless="${session.user != null}" style="margin-top: 26px;">
                <span style="cursor: pointer;">
                    <div class="dropdown">
                        <a class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 18px">
                            <i class="bi bi-person"></i>
							<span class="chat">마이</span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/user/login">로그인</a></li>
                            <li><a class="dropdown-item" href="/user/join">회원가입</a></li>
                        </ul>
                    </div>
                </span>
			</div>
		</div>
	</div>


	<div class="bottomHeader" style="width: 1400px; margin-top: 30px;">

		<div class="bottomHeader-category">
			<ul class="bottom-menu">
				<li class="dropdown-list" style="height: 36px;">
					<a class="navbar-brand" id="category" href="#">
						<p class="bi bi-list">카테고리</p>
					</a>

					<ul class="submenu" style="list-style: none;">
						<li>
							<a href="#">
								<p class="submenu-p" style="letter-spacing: 0.5em;">여성의류</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#">티셔츠</a></li>
								<li><a href="#">바지</a></li>
								<li><a href="#">아우터</a></li>
								<li><a href="#">원피스</a></li>
								<li><a href="#">자켓</a></li>
								<li><a href="#">블레이저</a></li>
								<li><a href="#">스커트</a></li>
								<li><a href="#">언더웨어</a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p" style="letter-spacing: 0.5em;">남성의류</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#">티셔츠</a></li>
								<li><a href="#">바지</a></li>
								<li><a href="#">아우터</a></li>
								<li><a href="#">원피스</a></li>
								<li><a href="#">자켓</a></li>
								<li><a href="#">블레이저</a></li>
								<li><a href="#">스커트</a></li>
								<li><a href="#">언더웨어</a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">신발</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">가방/지갑</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">시계</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">쥬얼리</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">패션 액세서리</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p" style="letter-spacing: 0.5em;">디지털</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#">삼성</a></li>
								<li><a href="#">애플</a></li>
								<li><a href="#">LG</a></li>
								<li><a href="#">컴퓨터</a></li>
								<li><a href="#">태블릿</a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p" style="letter-spacing: 0.5em;">가전제품</p>
							</a>
							<ul class="inner-menu" style="list-style: none; ">
								<li><a href="#">TV</a></li>
								<li><a href="#">세탁기</a></li>
								<li><a href="#">건조기</a></li>
								<li><a href="#">냉장고</a></li>
								<li><a href="#">쇼파</a></li>
								<li><a href="#">침대가구</a></li>
								<li><a href="#">책상</a></li>
								<li><a href="#">의자</a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">스포츠/레저</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#">축구용품</a></li>
								<li><a href="#">야구용품</a></li>
								<li><a href="#">헬스용품</a></li>
								<li><a href="#">자전거용품</a></li>
								<li><a href="#">농구용품</a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">차량/오토바이</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">스타굿즈</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">키덜트</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">예술/희귀/수집품</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">음반/악기</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

						<li>
							<a href="#">
								<p class="submenu-p"  style="letter-spacing: 0.5em;">도서/티켓/문구</p>
							</a>
							<ul class="inner-menu" style="list-style: none;">
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
								<li><a href="#"></a></li>
							</ul>
						</li>

					</ul>
				</li>
			</ul>
		</div>

		<div class="bottomHeaderMenu" style="display: inline-flex; margin-left: 10px;">
			<div class="bottomHeaderMenu" style="margin-left: 10px;">
				<a class="navbar-brand" href="#">EVENT</a>
			</div>

			<div class="bottomHeaderMenu" style="margin-left: 10px;">
				<a class="navbar-brand" href="#">사기조회</a>
			</div>

			<div class="bottomHeaderMenu" style="margin-left: 10px;">
				<a class="navbar-brand" href="#">찜한상품</a>
			</div>

			<div class="bottomHeaderMenu" style="margin-left: 10px;">
				<a class="navbar-brand" href="#">시세조회</a>
			</div>

			<div class="bottomHeaderMenu" style="margin-left: 10px;">
				<a class="navbar-brand" href="#">출석체크</a>
			</div>
		</div>
	</div>
</div>



<script>
	function chatList() {
		// Ajax 요청을 보냅니다.
		$.ajax({
			type: "GET",
			url: "/chat/list", // 채팅 목록을 가져오는 엔드포인트 URL입니다.
			success: function (data) {
				// 서버로부터 받은 HTML 데이터를 offcanvas의 body에 삽입합니다.
				$("#offcanvas-body").html(data);
			},
			error: function () {
				console.error("채팅 목록을 불러오는 데 실패했습니다.");
			}
		});
	}
</script>

<script>
	function chat(){

	}
</script>

</body>
</html>